[toc]
# 1. 前言 
### 使用的框架技术

-   docsify框架
-   基于Github Pages的站点部署, 无需申请域名 + 服务器

# 2. 准备工作

### 2.1 要有git环境，有github账号

- windows下安装git [Git 官网首页](https://git-scm.com/)
- 注册下github的账号[GitHub](https://github.com/)。

### 2.2 有node环境

docsify框架需要有node环境的支持。上[Node.js 官网](https://nodejs.org/en/)下载安装包，此处下载Windows版本的，点下一步一路安装下去即可。另外需要配置下环境变量。

### 2.3 docsify官网参考

地址：[docsify官网](https://docsify.js.org/#/)


# 3. 使用docsify命令生成文档站点

### 3.1 安装docsify-cli 工具

推荐安装 docsify-cli 工具，可以方便创建及本地预览文档网站。

```
npm i docsify-cli -g
```


### 3.2 初始化一个项目

1. 选择一个目录，作为我们的博客站点目录。也就是项目要生成的目录, 在本地磁盘建立一个文件夹 例如 `myblogs`
2. cmd 打开Windows的 命令行窗口，转到刚刚创建的文件夹目录
  例在 D:\myblogs  先输入   `d:`  回车，  再输入  `cd D:\myblogs`
3. 输入初始化代码：
```
docsify init ./docs
```
4. 刚刚创建的文件夹多了一个docs文件夹，其实这个文件夹就是将来我们存放MD格式的博客文件的地方。
与此同时，docs目录下会生成几个文件。
>-   index.html 入口文件
README.md 会做为主页内容渲染
.nojekyll 用于阻止 GitHub Pages 会忽略掉下划线开头的文件
    

### 3.3 启动项目，预览效果
使用下面命令启动项目：

```
docsify serve docs
```
根据提示的端口信息再浏览器输入：
一般为：
```
http://localhost:3000
```


即可看到最初的初始化界面

### 3.4 配置页面
这里我们主要配置一下封面、左侧导航栏和首页，其他的配置可以参考docsify官网。
1、配置导航栏
在 `d:\myblogs\docs`目录下新建一个 `_sidebar.md` (左侧导航栏）或者` _navbar.md`（顶部导航栏）的md文件，内容如下：

```
* 入门 
	* [快速开始](zh-cn/quickstart.md) 
	* [多页文档](zh-cn/more-pages.md) 
	* [定制导航栏](zh-cn/custom-navbar.md) 
	* [封面](zh-cn/cover.md) 
* 配置 
	* [配置项](zh-cn/configuration.md) 
	* [主题](zh-cn/themes.md) 
	* [使用插件](zh-cn/plugins.md) 
	* [Markdown 配置](zh-cn/markdown.md) 
	* [代码高亮](zh-cn/language-highlight.md)
```

这其实就是最基本的md文件，里面写了一些链接而已。当然了我们诸如 `zh-cn/quickstart.md` 是相对路径，目录下也要放 `quickstart.md` 文件才行。
 只有上面的 `_sidebar.md` 文件是不行滴，还需要在index.html文件中配置一下。在内嵌的js脚本中加上下面这句：

```
loadSidebar: true
```

无需我们重新启动docsify serve，保存刚才添加和修改的文件就能自动在浏览器显示。

2. 配置个封面

套路和上面配置左侧导航栏是一样的。
首先新建一个 `_coverpage.md` 的md文件，这里面的内容就是你封面的内容。
以下为官方封面：
```
<!-- _coverpage.md -->

[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-qZ6dXl8H-1637505148577)(_media/icon.svg)]

# docsify <small>3.5</small>

> 一个神奇的文档网站生成器。

- 简单、轻便 (压缩后 ~21kB)
- 无需生成 html 文件
- 众多主题

[GitHub](https://github.com/docsifyjs/docsify/)
[Get Started](#docsify)

```
然后在`index.html`文件中修改js脚本配置，添加一句：

```
coverpage: true
```

3. 配置一个首页

最后我们来配置下首页，也就是封面完了之后，第一个看到的界面。
其实就是 `d:\myblogs\docs` 目录下 `README.md` 文件的内容。

```
# An awesome project.
```
4. 一些脚本借鉴
打开index.html
```html
  <script>
    window.$docsify = {
      name: '文档标题', // 文档标题，会显示在侧边栏顶部
      repo: 'https://XXX', // 右上角Github图标链接,自定义跳转
      loadNavbar: true, // 默认加载 _navbar.md，作为顶部导航栏
      loadSidebar: true, // 默认加载 _sidebar.md，作为侧边栏
      subMaxLevel: 3, // 生成目录的最大层级
      coverpage: true,
      search: {
        paths: 'auto',
        placeholder: '搜索',
        noData: '找不到结果',
        depth: 3,
      },
    }
  </script>
  <!-- Docsify v4 -->
  <script src="//cdn.jsdelivr.net/npm/docsify@4"></script>
  <!-- 搜索插件 -->
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>
  <!-- 代码高亮 -->
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-c.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-json.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-shell-session.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-python.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-http.min.js"></script>
  <!-- 主题 -->
  <!--<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify/themes/buble.css">-->
  <!--<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify/themes/dark.css">-->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify/themes/pure.css">

```

# 4. 部署到Github上
### 4.1 登录github账号，创建仓库
登录github的官网，创建一个仓库，起名格式：`用户名.github.io`
可以不勾选添加  readme.md

### 4.2 创建本地仓库，推送到github

1. 首先我们进入我们的本地博客站点目录，也就是 `d:\myblogs`

2. 右键 `Git Bash Here` 打开git命令行初始化一个仓库，并提交所有的博客文件到git本地仓库。


```
git init // 初始化一个仓库
git add -A // 添加所有文件到暂存区，也就是交给由git管理着
git commit -m "myblogs first commit" // 提交到git仓库，-m后面是注释
git remote add origin     https://github.com/用户名.github.io.git  //可以直接复制仓库的链接 记得加.git
git push -u origin master // 推送到远程myblogs仓库
```
3. 附：一些其他指令：
```
git remote -v  //查看已有的
git remote rm origin  //删除已有的
```
按上面的命令顺序操作，不出意外的话，我们的本地myblogs已经同步到了github上面了。
刷新github的页面来看下
如果看到了同步的文件夹`docs`，即代表同步成功（一般在master的分支下）

### 4.3 使用Github Pages功能建立站点

1. 在创建的仓库下，选中 `Settings` 选项，
2. 然后鼠标一直向下滚动，直到看到 `GitHubPages` 页签，在Source下面选择 `master` 下的`/docs`选项,点击`save`
3. 会提示你在哪里去访问你的站点，等待页面加载（可能时间较长），即可看到生成的网址链接：`https://用户名.github.io`, 即可大功告成。
4. 按照提示，点击访问

# 5. 参考

* [【读者投稿】用Github+docsify，我花了半天就搭好了个人博客 (qq.com)](https://mp.weixin.qq.com/s/grsv_rx3DL862M8dBsHd_A)
* [docsify+github/gitee搭建个人在线文档_Mark_md的博客-CSDN博客_gitee写文档](https://blog.csdn.net/Mark_md/article/details/121457115)
